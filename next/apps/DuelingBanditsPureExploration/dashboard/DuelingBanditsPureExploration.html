
{% extends "basic.html" %}

{% block custom_dashboard %}


<!--##################### most_current_embedding ################ -->
<div class="container-fluid" style ='padding-bottom: 1cm; background-color: #FFFFFF'>
    <div class="col-lg-10 col-lg-offset-1">
        <h2> Rankings
            <button type="button" class="btn btn-primary btn-xs"
                  onclick="popup_alert('The ranking of the objects, accordingt to the instructions. For example, if you said \'Select the funniest caption.\' in your instructions, the funniest captions would appear at the top of this ranking.')">?</button>
        </h2>
    </div>
    <div class="col-lg-10 col-lg-offset-1">

        <ul class="nav nav-tabs" role="tablist">
            {% for alg in alg_list %}
                {% if loop.first %}
                    <li role="presentation" class="active"><a href="#ranking_{{ alg.alg_label_clean }}" aria-controls="ranking_{{ alg.alg_label_clean }}" role="tab" data-toggle="tab">{{ alg.alg_label_clean }}</a></li>
                {% else %}
                    <li role="presentation"><a href="#ranking_{{ alg.alg_label_clean }}" aria-controls="ranking_{{ alg.alg_label_clean }}" role="tab" data-toggle="tab">{{ alg.alg_label_clean }}</a></li>
                {% endif %}
            {% endfor %}
        </ul>


        <div class="tab-content">
            {% for alg in alg_list %}
                {% if loop.first %}
                    <div role="tabpanel" class="tab-pane active" id="ranking_{{ alg.alg_label_clean }}">
                        <div id = "most_current_ranking_{{ alg.alg_label_clean }}"></div>
                    </div>
                {% else %}
                    <div role="tabpanel" class="tab-pane" id="ranking_{{ alg.alg_label_clean }}">
                        <div id = "most_current_ranking_{{ alg.alg_label_clean }}"></div>
                    </div>
                {% endif %}
            <!-- <div role="tabpanel" class="tab-pane active" id="home"> -->


            <script>
              plot_response = function(data) {
              charts.createDynamicTable(data.json, "most_current_ranking_{{ alg.alg_label_clean }}")
              }

              data = next_widget.getWidget(
              {
              'app_id': "{{ app_id }}",
              'exp_uid': "{{ exp_uid }}",
              'name': 'getStats',
              'widget_key': "{{ perm_key }}",
              'args':{
              'stat_id' : 'most_current_ranking',
              'params'  : {'alg_label': "{{ alg.alg_label }}" }
              }
              },
              plot_response
              );
            </script>
            {% endfor %}
        </div>

    </div>
</div>



{% endblock %}
